<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ddal-config PUBLIC "-//suning.com//DTD ddal-config//EN" "http://suning.com/dtd/ddal-config.dtd">
<ddal-config>

	<schema name="PUBLIC" metadata="shard2">
	
		<tableGroup router="customer_group" validation="false">
			<table name="customers" metadata="shard1.customers_001"/>
			<table name="address" metadata="shard1.address_001"/>
		</tableGroup>	

		<tableGroup router="order_group" validation="false">
			<table name="orders" metadata="shard1.orders_01"/>
			<table name="order_items"  metadata="shard1.order_items_01"/>
			<table name="order_status" metadata="shard1.order_status_01"/>
		</tableGroup>
		
		<table name="product" validation="false"/>
		<table name="product_category" validation="false"/>

	</schema>

	<cluster>
		<shard name="shard1">
			<master ref="db1m" rWeight="1"/>
			<slave ref="db1s" rWeight="2"/>
		</shard>
		<shard name="shard2">
			<master ref="db2m" rWeight="1"/>
			<slave ref="db2s" rWeight="2"/>
		</shard>
		<shard name="shard3">
			<master ref="db3m" rWeight="1"/>
			<slave ref="db3s" rWeight="2"/>
		</shard>
		<shard name="shard4">
			<master ref="db4m" rWeight="1"/>
			<slave ref="db4s" rWeight="2"/>
		</shard>
	</cluster>


	<dataNodes>
		<datasource id="db1m" class="org.apache.commons.dbcp.BasicDataSource">
			<property name="driverClassName" value="com.mysql.jdbc.Driver" />
			<property name="url" value="jdbc:mysql://10.19.90.74:3306/ddal_test1" />
			<property name="username" value="user" />
			<property name="password" value="abc" />
		</datasource>
		<datasource id="db1s" class="org.apache.commons.dbcp.BasicDataSource">
			<property name="driverClassName" value="com.mysql.jdbc.Driver" />
			<property name="url" value="jdbc:mysql://10.19.90.77:3306/ddal_test1" />
			<property name="username" value="user" />
			<property name="password" value="abc" />
		</datasource>
		<datasource id="db2m" class="org.apache.commons.dbcp.BasicDataSource">
			<property name="driverClassName" value="com.mysql.jdbc.Driver" />
			<property name="url" value="jdbc:mysql://10.19.90.74:3306/ddal_test2" />
			<property name="username" value="user" />
			<property name="password" value="abc" />
		</datasource>
		<datasource id="db2s" class="org.apache.commons.dbcp.BasicDataSource">
			<property name="driverClassName" value="com.mysql.jdbc.Driver" />
			<property name="url" value="jdbc:mysql://10.19.90.77:3306/ddal_test2" />
			<property name="username" value="user" />
			<property name="password" value="abc" />
		</datasource>
		<datasource id="db3m" class="org.apache.commons.dbcp.BasicDataSource">
			<property name="driverClassName" value="com.mysql.jdbc.Driver" />
			<property name="url" value="jdbc:mysql://10.19.90.74:3306/ddal_test3" />
			<property name="username" value="user" />
			<property name="password" value="abc" />
		</datasource>
		<datasource id="db3s" class="org.apache.commons.dbcp.BasicDataSource">
			<property name="driverClassName" value="com.mysql.jdbc.Driver" />
			<property name="url" value="jdbc:mysql://10.19.90.77:3306/ddal_test3" />
			<property name="username" value="user" />
			<property name="password" value="abc" />
		</datasource>
		<datasource id="db4m" class="org.apache.commons.dbcp.BasicDataSource">
			<property name="driverClassName" value="com.mysql.jdbc.Driver" />
			<property name="url" value="jdbc:mysql://10.19.90.74:3306/ddal_test4" />
			<property name="username" value="user" />
			<property name="password" value="abc" />
		</datasource>
		<datasource id="db4s" class="org.apache.commons.dbcp.BasicDataSource">
			<property name="driverClassName" value="com.mysql.jdbc.Driver" />
			<property name="url" value="jdbc:mysql://10.19.90.77:3306/ddal_test4" />
			<property name="username" value="user" />
			<property name="password" value="abc" />
		</datasource>
	</dataNodes>
	
	
	<tableRules>
		<tableRule resource="/config/ddal-rule.xml"/>
	</tableRules>

</ddal-config>